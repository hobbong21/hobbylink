<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HobbyLink - ëŒ€ì‹œë³´ë“œ ë¯¸ë¦¬ë³´ê¸°</title>
  <style>
    body { margin:0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', Arial, sans-serif; color:#111827; background:#f8fafc; }
    .container { max-width: 1100px; margin: 0 auto; padding: 1rem; }
    .banner { background:#fff7ed; border:1px solid #fed7aa; color:#7c2d12; padding: .75rem 1rem; border-radius: 12px; display:flex; justify-content:space-between; align-items:center; }
    .badge { background:#f59e0b; color:#fff; border-radius:6px; padding:.1rem .5rem; font-size:.8rem; font-weight:700; margin-right:.5rem; }
    h1 { font-size: 1.75rem; margin: 1rem 0; }
    .grid { display:grid; grid-template-columns: 2fr 1fr; gap:1rem; }
    .card { background:#fff; border:1px solid #e5e7eb; border-radius: 12px; padding:1rem; }
    .list { display:grid; gap:.5rem; }
    .meetup { border:1px solid #e5e7eb; border-radius:10px; padding:.75rem; display:flex; justify-content:space-between; align-items:center; }
    .pill { background:#eef2ff; color:#4f46e5; padding:.1rem .5rem; border-radius:9999px; font-size:.75rem; }
    .row { display:flex; gap:.5rem; align-items:center; }
    a.btn { display:inline-block; background:#4f46e5; color:#fff; text-decoration:none; padding:.5rem .85rem; border-radius:8px; font-weight:700; }
  </style>
</head>
<body>
  <div class="container">
    <div class="banner">
      <div><span class="badge">ê³µì§€</span> ìƒˆë¡œìš´ AI í‰íŒ í•„í„° ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤! ë°‹ì—… ëª©ë¡ì—ì„œ í™•ì¸í•´ë³´ì„¸ìš”.</div>
      <a href="#" style="text-decoration:none;color:#7c2d12;">ë‹«ê¸°</a>
    </div>

    <h1>ìƒˆë¡œìš´ ì¸ì—°ì„ ì°¾ì•„ë³´ì„¸ìš”</h1>
    <div class="grid">
      <div class="card">
        <h3>ê¸´ê¸‰ ë²ˆê°œ ìš”ì²­ âš¡</h3>
        <p>"ì§€ê¸ˆ ë‹¹ì¥ ë­í• ê¹Œ?" AIì—ê²Œ ì¦‰ì„ ë°‹ì—…ì„ ìš”ì²­í•´ë³´ì„¸ìš”. (ì˜ˆ: 30ë¶„ ë’¤ ê·¼ì²˜ ì¹´í˜ì—ì„œ ë³´ë“œê²Œì„)</p>
        <a class="btn" href="/">ìš”ì²­ ë³´ë‚´ê¸°</a>
      </div>
      <div class="card">
        <h3>ì˜ˆì •ëœ ë°‹ì—…</h3>
        <div class="list" id="upcoming"></div>
      </div>
    </div>

    <div class="grid" style="margin-top:1rem; grid-template-columns: 1fr 1fr;">
      <div class="card">
        <div class="row" style="justify-content:space-between;">
          <h3>ì¸ê¸° ë°‹ì—… ğŸ”¥</h3>
          <a href="/meetups">ë”ë³´ê¸°</a>
        </div>
        <div class="list" id="popular"></div>
      </div>
      <div class="card">
        <div class="row" style="justify-content:space-between;">
          <h3>ìƒˆë¡œ ë“±ë¡ëœ ë°‹ì—… âœ¨</h3>
          <a href="/meetups">ë”ë³´ê¸°</a>
        </div>
        <div class="list" id="latest"></div>
      </div>
    </div>

    <div class="card" style="margin-top:1rem;">
      <div class="row" style="justify-content:space-between;">
        <h3>ìš”ì¦˜ ì¸ê¸°ìˆëŠ” ë©¤ë²„ â­</h3>
        <a href="/search?type=users">ë”ë³´ê¸°</a>
      </div>
      <div class="list" id="members"></div>
    </div>
  </div>

  <script>
    const el = (tag, attrs={}, children=[]) => {
      const e = document.createElement(tag);
      Object.entries(attrs).forEach(([k,v]) => e.setAttribute(k, v));
      children.forEach(c => e.appendChild(typeof c === 'string' ? document.createTextNode(c) : c));
      return e;
    };

    const meetupItem = (m) => el('div', { class:'meetup' }, [
      el('div', {}, [
        el('div', { style:'font-weight:700;' }, [m.title || 'ì œëª© ì—†ìŒ']),
        el('div', { style:'font-size:.9rem;color:#6b7280;' }, [ (m.location || 'ìœ„ì¹˜ ë¯¸ì •') + ' Â· ' + (m.category || 'ì¼ë°˜') ])
      ]),
      el('div', { class:'row' }, [
        el('span', { class:'pill' }, [ (m.reputation != null ? 'í‰íŒ ' + m.reputation : 'ì‹ ê·œ') ]),
        el('a', { class:'btn', href:'/meetups/' + m.id }, ['ìƒì„¸ë³´ê¸°'])
      ])
    ]);

    fetch('/api/meetups/active').then(r=>r.json()).then(data=>{
      const upcoming = document.getElementById('upcoming');
      (data || []).slice(0,4).forEach(m => upcoming.appendChild(meetupItem(m)));
      const popular = document.getElementById('popular');
      (data || []).slice(0,6).forEach(m => popular.appendChild(meetupItem(m)));
      const latest = document.getElementById('latest');
      (data || []).slice(0,6).forEach(m => latest.appendChild(meetupItem(m)));
    }).catch(()=>{});

    fetch('/api/users').then(r=>r.json()).then(users=>{
      const list = document.getElementById('members');
      (users || []).slice(0,5).forEach(u => {
        list.appendChild(el('div', { class:'meetup' }, [
          el('div', {}, [
            el('div', { style:'font-weight:700;' }, [u.username || 'ì‚¬ìš©ì']),
            el('div', { style:'font-size:.9rem;color:#6b7280;' }, ['@' + (u.username || 'user')])
          ]),
          el('a', { class:'btn', href:'/profile/' + u.id }, ['í”„ë¡œí•„'])
        ]));
      });
    }).catch(()=>{});
  </script>
</body>
</html>


